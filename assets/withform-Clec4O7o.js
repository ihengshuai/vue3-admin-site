var g=Object.defineProperty,h=Object.defineProperties;var w=Object.getOwnPropertyDescriptors;var c=Object.getOwnPropertySymbols;var T=Object.prototype.hasOwnProperty,F=Object.prototype.propertyIsEnumerable;var p=(a,e,o)=>e in a?g(a,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):a[e]=o,f=(a,e)=>{for(var o in e||(e={}))T.call(e,o)&&p(a,o,e[o]);if(c)for(var o of c(e))F.call(e,o)&&p(a,o,e[o]);return a},v=(a,e)=>h(a,w(e));import{b as P}from"./index-Cwyg722P.js";import{I as S}from"./index-Ciw2v_La.js";import{I as C}from"./index-N7FLGHHZ.js";import{a as N}from"./index.CCNGGU.js";import{u as O}from"./useTablePage-dZzMJE_P.js";import{z as V,K as b,N as j,O as U,J as _,I as x}from"./antd-B5dqVz-4.js";import{d as $,r as D,f as z,k as l,F as A,i as B}from"./vue-C05a2vRq.js";import"./index-CKfTYYqA.js";import"./dom-B5d93tGn.js";function y(a){return typeof a=="function"||Object.prototype.toString.call(a)==="[object Object]"&&!B(a)}const J=[{label:"男",value:"male"},{label:"女",value:"remale"},{label:"全部",value:"-1"}],Y=$({name:"TableFormPage",setup(){const{t:a}=N(),e=D({keywords:{value:null,defaultValue:"",validate:t=>isNaN(parseInt(t))},sex:{value:null,defaultValue:"male",immediate:!0,validate:t=>["male","remale","-1"].includes(t),transform:t=>t==="-1"?null:t}}),o=z([{title:"ID",dataIndex:"id",sorter:!0,key:"id"},{title:"名字",dataIndex:"name",key:"name"},{title:"年龄",dataIndex:"age",sorter:!0,key:"age"},{title:"性别",dataIndex:"sex",key:"sex",customRender:({text:t})=>t==="male"?"男":"女"}]),{isEmpty:s,isFetchEnd:n,tableProps:I,onSearch:d,resetSearch:k}=O({columns:o.value,filters:e,tableProps:{showSorterTooltip:{title:" 点击排序"}},pagination:t=>v(f({},t),{showTotal:(r,[u,m])=>`共 ${r} 条记录 第 ${u} - ${m} 条`}),fetchData:P});return()=>{let t,r;const u=l(_,{class:"table-form"},{default:()=>[l(V,null,{default:()=>[l(b,{name:"keywords"},{default:()=>[l(j,{value:e.keywords.value,"onUpdate:value":i=>e.keywords.value=i,placeholder:"请输入关键字",allowClear:!0,style:"width: 200px",onPressEnter:d},null)]}),l(b,{name:"sex"},{default:()=>[l(U,{value:e.sex.value,"onUpdate:value":i=>e.sex.value=i,options:J,style:"width: 100px"},null)]}),l("strong",null,[(s==null?void 0:s.value)&&"没数据"]),l("strong",null,[(n==null?void 0:n.value)&&"加载完毕"])]})]}),m=l(A,null,[l(x,{type:"link",onClick:k},y(t=a("reset"))?t:{default:()=>[t]}),l(x,{type:"primary",onClick:d},y(r=a("search"))?r:{default:()=>[r]})]);return l(S,{withCard:!0,title:u,extra:m},{default:()=>[l(C,I.value,null)]})}}});export{Y as default};
